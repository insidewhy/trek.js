import expect from "chai"
import {parse: p} from "../trek"

var spacing = p.plus(" "),
    parse   = (grammar, src) => p.parse(spacing, grammar, src)

describe("lexeme", () => {
  // too early for testing, just using this for now
  it("parses many character ranges to form a string.", () => {
    var grammar = p.plus(p.range("az")),
        ast     = parse(grammar, "totoro")

    expect(ast).to.equal("totoro")
  })

  it("parses a lexeme into a node with range information.", () => {
    var grammar = p.node("Friend", p.member("name", p.plus(p.range("az")))),
        ast     = parse(grammar, "totoro")

    expect(ast.name).to.equal("totoro")
    expect(ast.type).to.equal("Friend")
  })
})
