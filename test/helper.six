import expect from "chai"
import {parse: p} from "../trek"

export var spacing = p.plus(p.char(" ")),
           p       = p,
           expect  = expect,
           parse   = (grammar, src) => {
             var stream = p.stream(spacing),
                 ast    = stream.parse(grammar, src)

             if (! stream.empty)
               throw Error("stream should be empty")

             return ast
           },
           parsePartial = (grammar, src) => p.parse(spacing, grammar, src)

